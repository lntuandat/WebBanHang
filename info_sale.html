<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/1147679ae7.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="product.css">
    
    <title>Shop Quần áo</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');
* {
    
    margin:0;
    padding:0;
   
   
}
body{
    font-family: "Open Sans", sans-serif;
    font-size: 14px;
    color: #111;
    line-height: 1.15;
}
#wrapper{
    max-width: 1250px;
    margin: 0 auto;
}
ul.products{
    list-style-type: none;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
}
ul.products li{
    flex-basis: 25%;
    padding-left: 15px;
    padding-right: 15px;
    box-sizing: border-box;
    margin-bottom: 30px;
}

ul.products li img{
    max-width: 100%;
    height: auto;
}
ul.products li .product-top{
    position: relative;
    overflow: hidden;
}
ul.products li:hover .product-top .product-thumb img{
    filter: opacity(80%);
}
ul.products li .product-top .product-thumb {
    display: block;
}
ul.products li .product-top .product-thumb img{
    display: block;
}
ul.products li .product-top a.buy-now{
    text-transform: uppercase;
    text-decoration: none;
    text-align: center;
    display: block;
    background-color: #446084;
    color: #fff;
    padding: 10px 0px;
    position: absolute;
    width: 100%;
    bottom: -36px;
    transition: 0.25s ease-in-out;
    opacity: 0.85;
} 
ul.products li:hover a.buy-now{
    bottom: 0px;
}
ul.products li .product-info {
    padding: 10px 0px;
}
ul.products li .product-info a{
    display: block;
    text-decoration: none;

}
ul.products li:hover .product-info a.product-name{
    color: rgb(244, 101, 13);
}
ul.products li .product-info a.product-name{
    color: #334862;
    text-align: center;
}
ul.products li .product-info .product-price{
    color: #111;
    padding: 2px 0px;
    font-weight: 600;
    text-align: center;
}

#chuyentrang{
   
    width: fit-content;
    margin: 0 auto;
    margin-bottom: 30px;
   
}

ul.n{
  display: flex;  
  text-align: center;
  color: #cdd0d4;
    
}
ul.n li{
    padding-left: 10px;
    padding-right: 10px;
    font-size: 15px;
    

}
.selected {
    background-color: #007bff; /* Màu sắc của kích thước đã chọn */
    color: white; /* Màu văn bản của kích thước đã chọn */
}
  </style>
</head>
<body>
    <div class="logo">
        <a href="index.html"> <img src="images/logo-Photoroom.png-Photoroom.png" style="width:200px"></a>
         <p>KIẾN THỨC - KINH NGHIỆM - TRẢI NGHIỆM</p>
        
     </div>
    
    <header style="box-shadow: 0 10px 10px -5px rgba(0, 0, 0, 0.5);">
   
        <div class="menu" style="margin-left: 50px;">
            <li class="menuu"><a href="" style="font-size: 15px;">ÁO KHOÁC <i class="fa-solid fa-chevron-down" style="font-size: 10px;margin-left: 4px;"></i></a>
                <ul class="sub-menu">
                        <li style="border-top: 1px solid black;"><a href="AoKhoac.html">All Áo Khoác</a></li>
                        <li><a href="aokhoacni.html">Áo Khoác Nỉ</a></li>
                        <li><a href="aokhoacdu.html">Áo Khoác Dù</a></li>
                        <li><a href="aokhoackaki.html">Áo Khoác KaKi</a></li>
                        <li><a href="aokhoacni.html">Áo Blazer Nam</a></li>
                </ul>
            </li>
            <li class="menuu"><a href="" style="font-size: 15px;">ÁO THUN<i class="fa-solid fa-chevron-down" style="font-size: 10px;margin-left: 4px;"></i></a>
                <ul class="sub-menu">
                    <li style="border-top: 1px solid black;"><a href="aothun.html">All Áo Thun</a></li>
                        <li><a href="aothuntayngan.html">Áo Thun Tay Ngắn</a></li>
                        <li><a href="aothuntaydai.html">Áo Thun Tay Dài</a></li>
                        <li><a href="aopolo.html">Áo Thun PoLo</a></li>
                </ul>
            </li>
            <li class="menuu"><a href="" style="font-size: 15px;">SƠ MI<i class="fa-solid fa-chevron-down" style="font-size: 10px;margin-left: 4px;"></i></a>
                <ul class="sub-menu">
                    <li style="border-top: 1px solid black;"><a href="Somi.html">All Sơ Mi</a></li>
                        <li><a href="Somi.html">Sơ Mi Tay Ngắn</a></li>
                        <li><a href="Somi.html">Sơ Mi Tay Dài</a></li>
                   
                </ul>
            </li>
            <li class="menuu"><a href="" style="font-size: 15px;">QUẦN DÀI<i class="fa-solid fa-chevron-down" style="font-size: 10px;margin-left: 4px;"></i></a>
                <ul class="sub-menu">
                    <li style="border-top: 1px solid black;"><a href="quandai.html">All Quần Dài</a></li>
                    <li><a href="quankaki.html">Quần KaKi</a></li>
                    <li><a href="quandai.html">Quần Tây</a></li>
                    <li><a href="quanjean.html">Quần Jean</a></li>
                
                </ul>    
            </li>
            <li class="menuu"><a href="" style="font-size: 15px;">QUẦN SHORT<i class="fa-solid fa-chevron-down" style="font-size: 10px;margin-left: 4px;"></i></a>
                <ul class="sub-menu">
                    <li style="border-top: 1px solid black;"><a href="quanshort.html">All Quần Short</a></li>
                    <li><a href="quanshortkaki.html">Quần Short KaKi</a></li>
                    <li><a href="quanshortthun.html">Quần Short Thun</a></li>
                    <li><a href="quanshortjean.html">Quần Short Jean</a></li>
                   
                   
                </ul>    
            </li>
            
         
        </div>
        <li style="border-bottom: 1px solid black;margin-right: 25px;" ><a href="all.html" style="font-size: 15px">ALL</a></li>
        <li style="background-color: red;"><a href="sale.html" style="font-size: 15px;color: gold;">SALE</a></li>
        <div class="others">
            <li><input placeholder="Tìm Kiếm" type="text" style="width: 350px;padding-left: 10px;" > <i class="fas fa-search" style="padding-top: 5px;padding-right: 10px;"></i></li>
           
            <li style="text-align: center;" > 
                <a class="fa fa-user-plus"  id="userLink" href="login.html" ></a> 
                <div id="userGreeting" style="background-color: blanchedalmond;border-radius: 20px;width: 80px;cursor: pointer;margin: 0 auto;">
                </div>
               <div class="account" style="display:flex;">
                <a id="userInfoLink" href="thongtinkh.html" style="display: none;margin-left: 15px;margin-top: 10px;"><button style="width: 70px;cursor: pointer;">Thông tin</button></a>
                <button id="logoutBtn" style="display: none;margin-left: 15px;margin-top: 10px;width: 70px;">Đăng xuất</button>
               </div>
            </li>
           <div class="price-t" style="margin-left: 20px;"> <li  class="fa fa-shopping-bag" > <span>0<sub>đ</sub></span></div>
            </li>
        </div>
       
    </header>
    <div id="alert-container"></div>
<section>
    <div class="danhmuc">
       <a href="index.html">Trang chủ</a> <span>/</span>
       <a href="">Danh mục</a>  <span>/</span>
       <a href="" style="color: rgb(114, 114, 114);">Áo Khoác Hoodie Form Rộng AKN0112
    </a>
    </div>
  
        <div class="container">
            <div class="content-left">
              
                <div class="main">
                    <img src="images/h2.webp" alt="" class="img-feature">
                    <div class="control prev"><i class="fa-solid fa-angle-left"></i></div>
                    <div class="control next"><i class="fa-solid fa-angle-right"></i></div>
                </div>
                    <div class="list-image">
                        <div ><img src="images/h2.webp" alt="" ></div>
                       <div> <img src="images/ao1.jpg" alt=""></div>
                      <div>  <img src="images/ao11.jpg" alt=""></div>
                       <div> <img src="images/ao12.jpg" alt=""></div>
                        <div><img src="images/ao13.jpg" alt=""></div>
                        <div><img src="images/ao14.jpg" alt=""></div>
                    </div>
            </div>
            <div class="content-right">
                <h2>Áo Khoác Hoodie Form Rộng AKN0112
                </h2>
                <div class="sal" style="display: flex">
                    <h3 style="color: red;margin-right: 20px;">380.000 <sup>đ</sup></h3>
                    <h3 style="color: darkgrey;text-decoration: line-through;font-size: 13px;">450.000<sup>đ</sup></h3>

                </div>
                <div class="size">
                    <div class="size-btn">
                        <button type="button" onclick="selectSize('M', event)">M</button>
                        <button type="button" onclick="selectSize('L', event)">L</button>
                        <button type="button" onclick="selectSize('XL', event)">XL</button>
                    </div>
                    
                    <div class="size-select"><a href="//theme.hstatic.net/1000096703/1000836887/14/size_chart_desktop.jpg?v=291" target="_blank">CÁCH CHỌN SIZE</a></div>
                </div>
                <div class="color">
                    <p>Đen</p>
                    <div class="colors">
                        <input class="variant-1" id="swatch-1-den" type="radio" name="option2" value="Đen" data-vhandle="Đen" checked="" >
                        <label class="den sd" for="swatch-1-den">
                            <span></span>
                        </label>
                    </div>
                   

                    </div>

                    <div class="quantity-area clearfix">
                        <input type="button" value="-" onclick="minusQuantity()" class="qty-btn">
                        <input type="text" id="quantity" name="quantity" value="1" min="1" class="quantity-selector">
                        <input type="button" value="+" onclick="plusQuantity()" class="qty-btn">
                    </div>

                    <div class="gio">
                        
                    <button type="button" id="add-to-cart" class="  addtocart-modal" name="add">
                        <span>Thêm vào giỏ</span></button>
    
                    </div>
                    <div class="">	
                        <div class="title-bl">
                           <u><b>Mô tả</b></u>
                        </div>							
                        <div class="description-content">
                            <div class="description-productdetail">
                                <p>Áo khoác thun nỉ, đơn giản và&nbsp;năng động. Túi ngoài có dây kéo, mặt trong có túi tiện dụng.
                                    &nbsp;Mặc đi nắng hoặc trời se lạnh cực tốt. Phiên bản mới cải tiến với form dáng Regular rộng rãi, bo thun cotton ở cổ tay và eo tăng thêm sự thoải mái khi mặc.</p>
                                    <p>Chất liệu: vải nỉ da cá cao cấp</p><p>Hướng dẫn bảo quản:</p><p>- Không dùng hóa chất tẩy.</p><p>- Ủi ở nhiệt độ thích hợp, hạn chế dùng máy sấy.</p>
                                    <p>- Giặt ở chế độ bình thường, với đồ có màu tương tự.
                                        <br>
                                    </p>
                            </div>
                           
                        </div>
                    </div>

                </div>
              

              
                </div>	 
  

                
            </div>
        </div>
    <!------Sản phẩm liên quan---->
  <div class="product-same">
    <div class="product-like">
        <h2>SẢN PHẨM LIÊN QUAN</h2>
        <div class="v" style="border: 1px solid black;margin: 0 auto;width: 100px;"></div>
    </div>
    <div class="product-chil">
        
    <div id="wrapper">
        <ul class="products">
            <li>
                <div class="product-item">
                    <div class="product-top">
                        <a href="info_aokhoacdu.html" class="product-thumb">
                            <img src="images/aokhoac1.webp" alt="">
                        </a>
                        <a href="info_aokhoacdu.html" class="buy-now">Mua ngay</a>
                    </div>
                    <div class="product-info">
                        <a href="info_aokhoacdu.html" class="product-name">Áo Khoác Nỉ Có Nón Regular AKN0116</a>
                        <div class="product-price">350.000 <sup>đ</sup></div>
                    </div>
                </div>
            </li>
            <li>
                <div class="product-item">
                    <div class="product-top">
                        <a href="InfoProduct.html" class="product-thumb">
                            <img src="images/aokhoac2.webp" alt="">
                        </a>
                        <a href="InfoProduct.html" class="buy-now">Mua ngay</a>
                    </div>
                    <div class="product-info">
                        <a href="InfoProduct.html" class="product-name">Áo Khoác Dù Phối 2 Lớp AKD0036</a>
                        <div class="product-price">350.000 <sup>đ</sup></div>
                    </div>
                </div>
            </li>
            <li>
                <div class="product-item">
                    <div class="product-top">
                        <a href="info_aokhoacdu1.html" class="product-thumb">
                            <img src="images/aokhoac3.webp" alt="">
                        </a>
                        <a href="info_aokhoacdu1.html" class="buy-now">Mua ngay</a>
                    </div>
                    <div class="product-info">
                        <a href="info_aokhoacdu1.html" class="product-name">Áo Khoác Dù 2 Lớp AKD0030</a>
                        <div class="product-price">295.000 <sup>đ</sup></div>
                    </div>
                </div>
            </li>
            <li>
                <div class="product-item">
                    <div class="product-top">
                        <a href="info_aokhoacdu.html" class="product-thumb">
                            <img src="images/aokhoac4.webp" alt="">
                        </a>
                        <a href="info_aokhoacdu1.html" class="buy-now">Mua ngay</a>
                    </div>
                    <div class="product-info">
                        <a href="info_aokhoacdu.html" class="product-name">Áo Khoác Dù 2 Lớp AKD0030</a>
                        <div class="product-price">295.000 <sup>đ</sup></div>
                    </div>
                </div>
            </li>
         
            </ul>
    </div>
    </div>
    </div>
    <a href="AoKhoac.html"> <div class="xem" style="margin-left: 90px;margin-top: -80px;margin-bottom: 50px;"><button >XEM THÊM</button></div></a>
</section>
<section class="card">
    <i class="fa-solid fa-xmark"  id="cart-section"></i>
    <h2>Card</h2>
    <form action="">
        <table id="cart-table">
            <thead>
                <tr>
                    <th></th>
                    <th>Sản phẩm</th>
                    <th>Giá</th>
                    <th>Size</th>
                    <th>SL</th>
                    <th>Chọn</th>
                </tr>

            </thead>
            <tbody >
              
            </tbody>
        </table>
        <div class="price-total">
            <p style="font-weight: bold;font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            ">Tổng tiền: <span>0<sup>đ</sup></span></p>
        </div>
         <div class="buy" style="margin-top:50px ;">
            <a href="cart.html" style="border: 1px solid black;background-color: aliceblue  ;padding: 10px;">XEM GIỎ HÀNG</a>
            <a style="border: 1px solid black;background-color: aliceblue ;padding: 10px ;" href="Thanhtoan.html">MUA NGAY</a>
         </div>
    </form>

</section>

<section class="search-sp" id="search-section">
    <i class="fa-solid fa-arrow-left"></i>
    <h2>SEARCH</h2>
    <form action="">
        <table id="search-table">
            <thead>
                <tr>
                    <th></th>
                    <th>Sản phẩm</th>
                    <th>Giá</th>
                   
                </tr>

            </thead>
            <tbody class="u">
           
            </tbody>
        </table>
       
    </form>
</section>

</section>

<div class="banner">
<a href=""><img src="images/b1.png" alt="" srcset=""></a>
<a href=""><img src="images/b2.png" alt="" srcset=""></a>
<a href=""><img src="images/b3.png" alt=""></a>
</div>

<div class="bannercon">
    <img src="images/f1.webp" alt="">
    <img src="images/f2.webp" alt="">
    <img src="images/f3.webp" alt="">
    <img src="images/f4.webp" alt="">
    <img src="images/f5.webp" alt="">
    <img src="images/f6.webp" alt="">
 
    
</div>
</section>
<!----------------------footer------------------->>
<footer class="footer">
    <div class="footer-grid">
        <div class="footer-item">
            <p>THÔNG TIN LIÊN HỆ</p>
            <ul>
             
                <li><a href="gioithieu.html">Giới thiệu</a></li>
                <li><a href="page2.html">Kiểm tra đơn hàng</a></li>
                <li><a href="//theme.hstatic.net/1000096703/1000836887/14/size_chart_desktop.jpg?v=291" target="_blank">Cách chọn Size</a></li>
                <li><a href="#">Câu hỏi thường gặp</a></li> 
                <li><a href="#">Hướng dẫn bảo quản</a></li> 
            </ul>
        </div>
        <div class="footer-item">
            <p>CHÍNH SÁCH</p>
            <ul>
                <li><a href="hd_muahang.html">Hướng dẫn mua hàng</a></li>
                <li><a href="thông tin thành viên.html">Khách hàng thân thiết</a></li>
                <li><a href="hd_muahang.html">Chính sách đổi hàng</a></li>
                <li><a href="hd_muahang.html">Chính sách bảo mật</a></li>
                <li><a href="hd_muahang.html">Đối tác sản xuất</a></li>
              
            </ul>
        </div>
        <div class="footer-item">
            <p>KẾT NỐI VỚI FASHIONSTORE</p>
            <div class="social-icons">
                <a href="https://www.facebook.com/kentavietnam"><i class="fa-brands fa-facebook""></i></a>
                <a href="https://x.com/home?utm_source=homescreen&utm_medium=shortcut"><i class="fa-brands fa-twitter"></i></a>
                <a href="https://discord.com/login"><i class="fa-brands fa-discord"></i></a>
                <a href="https://www.google.com/maps/place//data=!4m2!3m1!1s0x31752ecf8b237e5f:0x8a00621a67ad5e18?source=g.page.share"><i class="fa-brands fa-google"></i></a>
            </div>
        </div>
        <div class="footer-item">
            <p>THÔNG TIN CỬA HÀNG</p>
            <ul style="margin-left: 0px;">
                <li style="list-style-type: none;"><a href=""><i class="fa-solid fa-house"></i><p> 278 Nguyễn Thị Tú, Bình Hừng Hòa B, Bình Tân</p></a></li>
                <li style="list-style-type: none;"><a href=""><i class="fa-solid fa-house"></i><p>140 Lê Trọng Tấn, Tân Phú</p></a></li>
                <li style="list-style-type: none;"><a href="#"><i class="fa-solid fa-phone"></i><b>Hotline:</b><p>0332643954</p></a></li>
                <li style="list-style-type: none;"><a href="#"> <i class="fa-solid fa-envelope"></i><b>Email:</b><p>datle5721@gmail.com</p></a></li>
                
            </ul>
        </div>

      
    </div>

    <div class="vien" style="border-bottom: 1px dotted rgb(172, 170, 170);margin-top: 50px;margin-bottom: 50px;width: 1200px;margin-left: 110px;"></div>
</footer>



</body>

<script>
    document.addEventListener('DOMContentLoaded', () => {
    loadCartFromLocalStorage();
});

var selectedSize = ""; // Biến để lưu kích thước được chọn

const addToCartBtn = document.getElementById('add-to-cart');

addToCartBtn.addEventListener('click', function() {
    var productName = document.querySelector('.content-right h2').textContent.trim();
    var productPrice = document.querySelector('.content-right h3').textContent.trim();
    var selectedColor = document.querySelector('.colors input:checked').value;
    var quantity = document.getElementById('quantity').value;
    var productImg = document.querySelector('.content-left .img-feature').src; // Lấy URL ảnh sản phẩm

    // Kiểm tra xem đã chọn kích thước chưa
    if (!selectedSize) {
        showAlert("Vui lòng chọn kích thước", "warning");
        return;
    }

    // Thêm sản phẩm vào giỏ hàng
    addToCart(productPrice, productImg, productName, selectedSize, selectedColor, quantity, "cart-table");
});

function selectSize(size, event) {
    selectedSize = size;
    var sizeButtons = document.querySelectorAll('.size-btn button');
    sizeButtons.forEach(function(button) {
        button.classList.remove('selected'); // Loại bỏ lớp 'selected' khỏi tất cả các nút kích thước
    });
    event.target.classList.add('selected'); // Thêm lớp 'selected' vào nút kích thước được nhấp
}

function addToCart(productPrice, productImg, productName, selectedSize, selectedColor, quantity, tableId) {
    var cartTable = document.querySelector("#" + tableId + " tbody");

    // Kiểm tra xem sản phẩm đã tồn tại trong giỏ hàng chưa
    var existingProduct = Array.from(cartTable.querySelectorAll("tr")).find(row => {
        return row.querySelector("td:nth-child(2)").textContent === productName && row.querySelector("td:nth-child(4)").textContent === selectedSize;
    });

    if (existingProduct) {
        // Nếu sản phẩm đã tồn tại với kích thước đã chọn, cập nhật số lượng
        var existingQuantity = parseInt(existingProduct.querySelector("input").value);
        existingProduct.querySelector("input").value = existingQuantity + parseInt(quantity);
        showAlert("Sản phẩm đã có trong giỏ hàng, số lượng đã được cập nhật", "warning");
    } else {
        // Nếu sản phẩm không tồn tại với kích thước đã chọn, thêm một hàng mới vào giỏ hàng
        var addtr = createCartRow(productPrice, productImg, productName, selectedSize, quantity);
        cartTable.appendChild(addtr);
        showAlert("Đã thêm vào giỏ hàng", "success");
    }

    saveCartToLocalStorage();
    carttotal();
}

function createCartRow(productPrice, productImg, productName, selectedSize, quantity) {
    var addtr = document.createElement("tr");

    var imgCell = document.createElement("td");
    var img = document.createElement("img");
    img.src = productImg;
    img.alt = productName;
    img.style.width = "100px";
    imgCell.appendChild(img);

    var nameCell = document.createElement("td");
    nameCell.textContent = productName;

    var priceCell = document.createElement("td");
    priceCell.innerHTML = "<b>" + productPrice + "</b>";

    var sizeCell = document.createElement("td");
    sizeCell.textContent = selectedSize;

    var quantityCell = document.createElement("td");
    var quantityInput = document.createElement("input");
    quantityInput.type = "number";
    quantityInput.value = quantity;
    quantityInput.min = "1";
    quantityInput.style.width = "30px";
    quantityInput.style.outline = "none";
    quantityInput.addEventListener('change', () => {
        carttotal();
        saveCartToLocalStorage();
    });
    quantityCell.appendChild(quantityInput);

    var deleteCell = document.createElement("td");
    deleteCell.textContent = "Xóa";
    deleteCell.style.cursor = "pointer";
    deleteCell.addEventListener('click', function() {
        addtr.remove();
        carttotal();
        saveCartToLocalStorage();
    });

    addtr.appendChild(imgCell);
    addtr.appendChild(nameCell);
    addtr.appendChild(priceCell);
    addtr.appendChild(sizeCell);
    addtr.appendChild(quantityCell);
    addtr.appendChild(deleteCell);

    return addtr;
}

function carttotal() {
    var totalC = 0;
    var cartItems = document.querySelectorAll("#cart-table tbody tr");

    cartItems.forEach(function(item) {
        var inputValue = parseInt(item.querySelector("input").value);
        var productPrice = parseFloat(item.querySelector("td:nth-child(3) b").textContent.trim().replace(/\D/g, ''));
        var totalA = inputValue * productPrice;
        totalC += totalA;
    });

    var totalPriceElement = document.querySelector(".price-total span");
    var totalPriceE = document.querySelector(".price-t span");
    totalPriceElement.textContent = totalC.toLocaleString('de-DE') + "₫";
    totalPriceE.textContent = totalC.toLocaleString('de-DE') + "₫";
}

function saveCartToLocalStorage() {
    var cartItems = document.querySelectorAll("#cart-table tbody tr");
    var cartData = [];

    cartItems.forEach(function(item) {
        var productImg = item.querySelector("td img").src;
        var productName = item.querySelector("td:nth-child(2)").textContent;
        var productPrice = item.querySelector("td:nth-child(3) b").textContent;
        var selectedSize = item.querySelector("td:nth-child(4)").textContent;
        var quantity = item.querySelector("input").value;
        cartData.push({
            img: productImg,
            name: productName,
            price: productPrice,
            size: selectedSize,
            quantity: quantity
        });
    });

    localStorage.setItem('cart', JSON.stringify(cartData));
}

function loadCartFromLocalStorage() {
    var cartData = JSON.parse(localStorage.getItem('cart')) || [];
    var cartTable = document.querySelector("#cart-table tbody");

    cartData.forEach(function(item) {
        var addtr = createCartRow(item.price, item.img, item.name, item.size, item.quantity);
        cartTable.appendChild(addtr);
    });

    carttotal();
}

function showAlert(message, type) {
    var alertContainer = document.getElementById('alert-container');
    var alert = document.createElement('div');
    alert.className = `alert alert-${type}`;
    alert.textContent = message;
    alertContainer.appendChild(alert);

    setTimeout(() => {
        alert.remove();
    }, 3000);
}

const cartBtnClose = document.querySelector(".fa-xmark");
const cartBtnShow = document.querySelector(".fa-shopping-bag");
const cart = document.querySelector(".card");

cartBtnShow.addEventListener("click", function() {
    cart.style.right = "0";
});

cartBtnClose.addEventListener("click", function() {
    cart.style.right = "-100%";
});

document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.querySelector('.others input');
    const tbody = document.querySelector('.search-sp tbody');
    const productItems = document.querySelectorAll('.product-item');

    // Biến để lưu trữ danh sách sản phẩm
    const products = [];

    // Lặp qua mỗi mục sản phẩm và lưu thông tin sản phẩm vào mảng products
    productItems.forEach(function(productItem) {
        const productName = productItem.querySelector('.product-name').textContent;
        const productPrice = productItem.querySelector('.product-price').textContent;
        const productImage = productItem.querySelector('.product-thumb img').src;

        products.push({
            name: productName,
            price: productPrice,
            image: productImage
        });
    });

    // Lắng nghe sự kiện input trên ô tìm kiếm
    searchInput.addEventListener('input', function() {
        const searchText = searchInput.value.trim(); // Lấy giá trị nhập vào và loại bỏ khoảng trắng thừa

        // Xóa các hàng hiện có trong bảng tìm kiếm
        tbody.innerHTML = '';

        // Duyệt qua mỗi sản phẩm
        let hasSearchResults = false; // Biến để kiểm tra xem có kết quả tìm kiếm không
        products.forEach(function(product) {
            if (product.name.includes(searchText)) { // Kiểm tra xem tên sản phẩm có chứa giá trị nhập vào không
                // Tạo một hàng mới cho sản phẩm tìm thấy
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td><img src="${product.image}" alt="${product.name}"></td>
                    <td>${product.name}</td>
                    <td>${product.price}</td>
                `;

                // Thêm hàng mới vào tbody của bảng tìm kiếm
                tbody.appendChild(newRow);
                hasSearchResults = true; // Đánh dấu là có kết quả tìm kiếm
            }
        });

        // Kiểm tra nếu không có kết quả tìm kiếm thì ẩn bảng tìm kiếm
        if (!hasSearchResults) {
            tbody.innerHTML = '';
        }
    });

    // Lắng nghe sự kiện khi input mất focus
    searchInput.addEventListener('blur', function() {
        tbody.innerHTML = ''; // Xóa bảng tìm kiếm khi input mất focus
    });

    // Lắng nghe sự kiện khi nhấn Enter
    searchInput.addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
            event.preventDefault(); // Ngăn chặn hành động mặc định của nút Enter trong form
            searchInput.blur(); // Mất focus khỏi input để tránh kích hoạt sự kiện input lần nữa
        }
    });

   // Lắng nghe sự kiện khi giá trị trong ô tìm kiếm thay đổi
searchInput.addEventListener('input', function() {
    const searchText = searchInput.value.trim(); // Lấy giá trị nhập vào và loại bỏ khoảng trắng thừa

    // Xóa các hàng hiện có trong bảng tìm kiếm
    tbody.innerHTML = '';

    // Duyệt qua mỗi sản phẩm
    let hasSearchResults = false; // Biến để kiểm tra xem có kết quả tìm kiếm không
    products.forEach(function(product) {
        if (product.name.includes(searchText)) { // Kiểm tra xem tên sản phẩm có chứa giá trị nhập vào không
            // Tạo một hàng mới cho sản phẩm tìm thấy
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td><img src="${product.image}" alt="${product.name}"></td>
                <td>${product.name}</td>
                <td>${product.price}</td>
            `;

            // Thêm hàng mới vào tbody của bảng tìm kiếm
            tbody.appendChild(newRow);
            hasSearchResults = true; // Đánh dấu là có kết quả tìm kiếm
        }
    });

    // Kiểm tra nếu không có kết quả tìm kiếm thì ẩn bảng tìm kiếm
    if (!hasSearchResults) {
        tbody.innerHTML = '';
    }
    
    // Kiểm tra nếu giá trị trong ô tìm kiếm là rỗng thì xóa bảng tìm kiếm
    if (searchText === '') {
        tbody.innerHTML = '';
    }
});
});

const searchBtnClose = document.querySelector(".fa-arrow-left");
const searchBtnShow = document.querySelector(".fa-search");
const searchSection = document.querySelector("#search-section");

searchBtnShow.addEventListener("click", function() {
    searchSection.style.left = "0";
});

searchBtnClose.addEventListener("click", function() {
    searchSection.style.left = "-100%";
});

</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        let isDisplayed = false; // Biến để theo dõi trạng thái hiển thị
    
        const currentUser = localStorage.getItem('currentUser');
        const userGreeting = document.getElementById('userGreeting');
        const userPlusIcon = document.querySelector(".fa-user-plus");
        const logoutBtn = document.getElementById('logoutBtn');
        const userInfoLink = document.getElementById('userInfoLink');
    
        if (currentUser) {
            // Hiển thị tên người dùng
            userGreeting.textContent = ` ${currentUser}!`;
            userPlusIcon.style.display = "none";
            userGreeting.addEventListener("click", () => {
                // Đảo ngược trạng thái hiển thị
                isDisplayed = !isDisplayed;
    
                // Hiển thị hoặc ẩn nút "Thông tin" và "Đăng xuất" tùy thuộc vào trạng thái hiện tại
                userInfoLink.style.display = isDisplayed ? "block" : "none";
                logoutBtn.style.display = isDisplayed ? "block" : "none";
            });
    
            logoutBtn.addEventListener("click", () => {
                // Xóa dữ liệu người dùng đã đăng nhập
                localStorage.removeItem('currentUser');
                // Tải lại trang để cập nhật giao diện
                window.location.reload();
            });
        } else {
            // Hiển thị nút đăng nhập và ẩn tên người dùng
            userGreeting.textContent = "";
            userPlusIcon.style.display = "block";
            logoutBtn.style.display = "none"; // Ẩn nút đăng xuất khi không có người dùng đăng nhập
            userInfoLink.style.display = "none";
        }
    });
    
    
    </script>
    




<script src="function.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
</html>